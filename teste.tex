\documentclass{minimal}
\usepackage{etoolbox}
% Necess√°rio para \scalebox usado em \fauxsc
\usepackage{graphicx}

\makeatletter

\newcommand{\@mymacro}{}
\providecommand{\mymacro}[1]{\renewcommand{\@mymacro}{#1}}

\newcommand{\printtest}{%
    \ifcsdef{@mymacro}{%
        \ifdefempty{\@mymacro}{%
            %
        }{%
            \vspace{2cm}The macro is not empty. It's \@mymacro\vspace{2cm}
        }
    }{}
}

\newlength\fake@f
\newlength\fake@c

\def\fakesc#1{%
  \begingroup%
  \xdef\fake@name{\csname\curr@fontshape/\f@size\endcsname}%
  \fontsize{\fontdimen8\fake@name}{\baselineskip}\selectfont%
  \uppercase{#1}%
  \endgroup%
}

\newcommand\fauxsc[1]{\fauxschelper#1 \relax\relax}

\def\fauxschelper#1 #2\relax{%
  \fauxschelphelp#1\relax\relax%
  \if\relax#2\relax\else\ \fauxschelper#2\relax\fi%
}

\def\Hscale{.83}\def\Vscale{.72}\def\Cscale{1.00}

\def\fauxschelphelp#1#2\relax{%
  \ifnum`#1=\lccode`#1\relax\scalebox{\Hscale}[\Vscale]{\char\uccode`#1}\else%
    \scalebox{\Cscale}[1]{#1}\fi%
  \ifx\relax#2\relax\else\fauxschelphelp#2\relax\fi
}

\makeatother

\mymacro{A}

\begin{document}

A line.

\printtest

Another line.

This is some text with \fauxsc{Fake Small Caps}.

\end{document}